# Supabase Configuration
# These variables are required for the application to connect to your Supabase project.
# The URL and anon key are public and safe to commit.
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Get your ElevenLabs API key from https://elevenlabs.io/app/settings/api-keys
ELEVENLABS_API_KEY=

# The secret key is used for server-side operations and must be kept private.
# DO NOT prefix this variable with NEXT_PUBLIC_.
SUPABASE_SECRET_KEY=

# Third-Party API Keys
# These are required for external service integrations.
# Tavus
# Required for creating Tavus agents and videos.
TAVUS_API_KEY=YOUR_TAVUS_API_KEY
TAVUS_BASE_URL=https://tavusapi.com/v2
# Optional: override the persona's default replica. If not set, we fetch persona.default_replica_id.
TAVUS_REPLICA_ID=
ELEVENLABS_URL=https://api.elevenlabs.io/v1

# OpenAI (Embeddings)
# Used to generate vector embeddings for transcripts stored in knowledge_chunks.vector_embedding (1536 dims)
OPENAI_API_KEY=
# Default to a 1536-dim model to match pgvector column
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Webhook security
# Secret used to verify Tavus webhook signatures (HMAC-SHA256)
TAVUS_WEBHOOK_SECRET=

# Optional: URL token fallback if Tavus does not sign webhooks
# When set, we append ?t=$TAVUS_WEBHOOK_TOKEN to callback_url on conversation creation
# and accept webhook requests that include this exact token.
# Use a long, random value and rotate if exposed.
TAVUS_WEBHOOK_TOKEN=

# Base URL for webhook callbacks (use ngrok URL for local development)
# Example: https://abc123.ngrok.io
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Tavus LLM and Tools
# Enable to include tool definitions in persona creation. Recommended: true for video showcase functionality.
TAVUS_TOOLS_ENABLED=true
# Use a minimal toolset (fetch_video only) to improve persona validation in early tests
TAVUS_MINIMAL_TOOLS=false
# Override the default Tavus LLM model if needed
TAVUS_LLM_MODEL=tavus-llama-4

# Experimental: enable parsing of tool calls embedded in speech text
# Set to true to allow fetch_video("...") in conversation utterances to be parsed client-side
NEXT_PUBLIC_TAVUS_TOOLCALL_TEXT_FALLBACK=true

# Debug flags (client-side)
# Gate verbose Daily console logs in the browser. Leave false in production.
NEXT_PUBLIC_DEBUG_DAILY=false

# E2E testing mode (used by Playwright):
# When true, the app avoids real Supabase calls and uses stubbed data and helpers for tests.
NEXT_PUBLIC_E2E_TEST_MODE=false

# Sentry Monitoring
# Server DSN (required for backend error reporting)
SENTRY_DSN=
# Optional: expose DSN to client for frontend reporting
NEXT_PUBLIC_SENTRY_DSN=
# CI releases: token used by Vercel/CI for release tagging (do not set locally)
SENTRY_AUTH_TOKEN=
